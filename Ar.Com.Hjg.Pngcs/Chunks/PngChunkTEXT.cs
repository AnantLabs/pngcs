// --------------------------------------------------------------------------------------------------
// This file was automatically generated by J2CS Translator (http://j2cstranslator.sourceforge.net/). 
// Version 1.3.6.20110331_01     
// 6/1/11 9:13 a.m.    
// ${CustomMessageForDisclaimer}                                                                             
// --------------------------------------------------------------------------------------------------
 namespace Ar.Com.Hjg.Pngcs.Chunks {
	
	using Ar.Com.Hjg.Pngcs;
	using System;
	using System.Collections;
	using System.Collections.Generic;
	using System.ComponentModel;
	using System.IO;
	using System.Runtime.CompilerServices;
	
	public class PngChunkTEXT : PngChunkTextVar {
        public const String ID = ChunkHelper.tEXt;

		public PngChunkTEXT(ImageInfo info) : base(ID, info) {
		}
	
		public override ChunkRaw CreateRawChunk() {
			if (val.Length == 0 || key.Length == 0)
				return null;
            byte[] b = Ar.Com.Hjg.Pngcs.PngHelperInternal.charsetLatin1.GetBytes(key + @"\0" + val);
			ChunkRaw chunk = createEmptyChunk(b.Length, false);
			chunk.Data = b;
			return chunk;
		}
	
		public override void ParseFromRaw(ChunkRaw c) {
            String[] k = Ar.Com.Hjg.Pngcs.PngHelperInternal.charsetLatin1.GetString(c.Data).Split(new char[]{'\0'});
            key = k[0];
			val = k[1];
		}
	
		public override void CloneDataFromRead(PngChunk other) {
			PngChunkTEXT otherx = (PngChunkTEXT) other;
			key = otherx.key;
			val = otherx.val;
		}
	}
}
